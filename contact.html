<!DOCTYPE html>
<html lang="en">
  <head>
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, viewport-fit=cover"
    />
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <link rel="icon" type="image/x-icon" href="./images/page_icon.ico" />
    <meta http-equiv="content-language" content="en" />
    <title>Contact US</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="./css/index.css" />
    <link rel="stylesheet" href="./css/contact.css" />
  </head>
  <body>
        <header>
      <div>
        <nav>
          <div class="upper">
            <a href="/UGR-9771-13/">
              <picture>
                <img
                  id="logo-image"
                  src="./images/tour_ethiopia_logo.png"
                  alt="Tour Ethiopia logo"
                />
              </picture>
            </a>
            <div>
              <form
                role="search"
                action="/Search"
                id="search-box"
                title="search box"
                class="search-form"
              >
                <label
                  for="search__input"
                  style="
                    color: rgb(0, 0, 0);
                    display: none;
                    background-color: rgb(255, 255, 255);
                  "
                  >search</label
                >
                <input id="search__input" type="text" placeholder="Search" />

                <button
                  type="submit"
                  formaction="/Search"
                  title="submit"
                  id="submitt"
                  name="submit"
                  aria-label="Search"
                >
                  Search
                </button>
              </form>
            </div>
          </div>
          <div class="lower">
            <div class="right">
              <a class="links" href="/UGR-9771-13/index.html" > Home </a>
              <a class="links" href="/UGR-9771-13/contact.html" id="current__page"> Contact </a>
              <a class="links" href="/UGR-9771-13/about.html"> About </a>
              <a class="links" href="/UGR-9771-13/"> Packages </a>
              <a class="admin__link" href="/UGR-9771-13/adminstration.html">
                .<i class="fa-solid fa-lock"></i
              ></a>
            </div>
          </div>
        </nav>
      </div>
    </header>

    <main>
      <div class="main-container">
        <h1>Contact Us</h1>

        <div class="form-container">
          <form name="contactForm" method="post" class="form-contact" onsubmit="return validate()">
            <label class="label" for="name">* Name</label>
            <input
              class="input"
              type="text"
              id="name"
              name="name"
              placeholder="Your name"
            />
            <span class="errors"></span><br />

            <label class="label" for="email">* Email</label>
            <input
              class="input"
              type="text"
              placeholder="Email address"
              id="email"
              name="email"
            />
            <span class="errors"></span><br />

            <label class="label" for="phone">* Phone</label>
            <input
              class="input"
              type="text"
              placeholder="Phone number"
              id="phone"
              name="phone"
            />
            <span class="errors"></span><br />

            <label class="label" for="subject">* Message</label>
            <textarea
              class="textarea"
              placeholder="Your message"
              cols="132"
              rows="5"
              name="subject"
              id="subject"
            ></textarea>
            <span class="errors"></span><br />
            <div class="butt-container">
              <button type="submit" id="#button" value="Submit">Send</button>
            </div>
          </form>
        </div>
      </div>
    </main>

    <footer>
      <div class="footer__container">
        <div class="footer__upper">
          <div class="footer__item">
            <h3>Packages</h3>
            <div>
              <p>Family</p>
              <p>Just Married</p>
              <p>Birth Day</p>
              <p>Union</p>
              <p>Group</p>
            </div>
          </div>

          <div class="footer__item">
            <h3>Car Service</h3>
            <div>
              <p>Rental</p>
              <p>Guide</p>
              <p>Protection</p>
            </div>
          </div>

          <div class="footer__item">
            <h3>Help</h3>
            <div>
              <p>FAQ's</p>
              <p>Contact Us</p>
              <p>Map</p>
            </div>
          </div>

          <div class="footer__item">
            <h3>Follow us</h3>
            <i class="fa-brands fa-square-facebook"></i>
            <i class="fa-brands fa-square-twitter"></i>
            <i class="fa-brands fa-square-instagram"></i>
            <i class="fa-brands fa-telegram"></i>
          </div>
        </div>
        <div class="footer__bottom">
          <a href="/UGR-9771-13">License and Aggrements</a>
        </div>
      </div>
    </footer>
    <script src="./script/index.js"></script>
    <script>
      var validate = function (e) {
        console.log("validation started");
        var fields = document.querySelectorAll(
          '.form-container textarea, .form-container input[type="text"]'
        );
        var regEx;
        var removeSpan;
        var par;
        var check = false;
        var val;
        var errArr = [];

        for (var i = 0; i < fields.length; i++) {
          if (fields[i].value === "") {
            if (fields[i].nextElementSibling.classList.contains("error")) {
              removeSpan = fields[i].nextElementSibling;
              par = fields[i].parentNode;
              par.removeChild(removeSpan);
              fields[i].nextElementSibling.innerHTML =
                " " + fields[i].placeholder + " is required?";
              fields[i].style.boxShadow = "0 0 2px 1px #cc0001";
              check = false;
              errArr.push(fields[i]);
            }
            fields[i].nextElementSibling.innerHTML =
              " " + fields[i].placeholder + " is required?";
            fields[i].style.boxShadow = "0 0 2px 1px #cc0001";
            check = false;
            errArr.push(fields[i]);
          } else {
            // check if message and name values contain valid characters.
            if (fields[i].id !== "email" && fields[i].id !== "phone") {
              val = isValidChar(fields[i]);
              if (val === false) {
                fields[i].nextElementSibling.innerHTML =
                  "Are you trying to HACK ME!";
                fields[i].style.boxShadow = "0 0 2px 1px #cc0001";
                check = false;
                errArr.push(fields[i]);
              } else {
                fields[i].nextElementSibling.innerHTML = "";
                fields[i].style.boxShadow = "none";
                check = true;
              }
            }

            if (fields[i].id === "phone") {
              val = isValidPhone(fields[i]);
              if (val === false) {
                fields[i].nextElementSibling.innerHTML =
                  " Your phone number is not valid?";
                fields[i].style.boxShadow = "0 0 2px 1px #cc0001";
                check = false;
                errArr.push(fields[i]);
              } else {
                fields[i].nextElementSibling.innerHTML = "";
                fields[i].style.boxShadow = "none";
                check = true;
              }
            }

            if (fields[i].id === "email") {
              val = isValidEmail(fields[i]);
              if (val === false) {
                fields[i].nextElementSibling.innerHTML =
                  " Your email address is not valid?";
                fields[i].style.boxShadow = "0 0 2px 1px #cc0001";
                check = false;
                errArr.push(fields[i]);
              } else {
                fields[i].nextElementSibling.innerHTML = "";
                fields[i].style.boxShadow = "none";
                check = true;
              }
            }
          }
        }

        if (check === false) {
          var count = 0;
          var toErr = setInterval(function () {
            var e = errArr[0].offsetTop + -25;
            var pos = Math.abs(e);
            if (count < pos) {
              count++;
              window.scrollTo(0, count);
            } else {
              clearInterval(toErr);
            }
          }, 1);
        }

        return check;

        // Helper functions.
        function isValidEmail(e) {
          regEx = /^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/;
          var email = e.value;
          if (!regEx.test(email)) {
            return false;
          }
        }

        function isValidChar(e) {
          regEx = /^[a-zA-Z@#$%!?^&*()_+\-=\[\]{};':"\\|,.\/? ]*$/;
          var value = e.value;
          if (!regEx.test(value)) {
            return false;
          }
        }

        function isValidPhone(e) {
          regEx = /^[+]?[(]?[+]?\d{2,4}[)]?[-\s]?\d{2,8}[-\s]?\d{2,8}$/;
          var value = e.value;
          if (!regEx.test(value)) {
            return false;
          }
        }
      };
    </script>
    <script
      src="https://kit.fontawesome.com/e9b8ee98a2.js"
      crossorigin="anonymous"
    ></script>
  </body>
</html>
